LIBRARY IEEE;
USE ieee.std_logic_1164.all;
-----------------------------------------
ENTITY register_file IS 
	PORT ( clk    : IN 	STD_LOGIC;
			 wr_en  : IN 	STD_LOGIC;
			 w_addr : IN 	STD_LOGIC_VECTOR(7 DOWNTO 0) ;
			 r_addr : IN 	STD_LOGIC_VECTOR(7 DOWNTO 0) ;
			 w_data : IN 	STD_LOGIC;
			 r_data : OUT 	STD_LOGIC);
			 
END ENTITY;
-----------------------------------------
ARCHITECTURE rtl OF register_file IS
	TYPE mem_2d_type IS ARRAY (0 TO 1) OF STD_LOGIC_VECTOR(63 DOWNTO 0);
	SIGNAL array_reg: mem_2d_type;
	
BEGIN 

-- WRITE PROCESS
	write_process : PROCESS(clk)
	BEGIN
	IF (rising_egde(clk)) THEN 
	IF (wr_en = '1') THEN 
		array_reg(to_integer(unsigned(wr_addr))) <= w_data;
	END IF;
	END PROCESS;

	--READ
	r_data <= array_reg(to_integer(unsigned(r_addr)));
END ARCHITECTURE;
	